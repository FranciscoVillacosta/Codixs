<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Bot贸n SOS Web</title>
<style>
  body {
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    background: #f0f0f0;
  }
  button {
    padding: 20px 40px;
    font-size: 20px;
    border-radius: 12px;
    background: red;
    color: white;
    border: none;
    cursor: pointer;
  }
</style>
</head>
<body>
<h1>Enviar ubicaci贸n por WhatsApp</h1>
<button id="sendBtn"> Enviar ubicaci贸n</button>

<script>
const phone = "528771288865"; // N煤mero de WhatsApp en formato internacional

// Funci贸n que obtiene la ubicaci贸n y abre WhatsApp
function sendLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function(position) {
      const lat = position.coords.latitude;
      const lon = position.coords.longitude;
      const message = ` Mi ubicaci贸n: https://maps.google.com/?q=${lat},${lon}`;
      const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
      window.open(url, "_blank"); // Abre WhatsApp
    }, function(error) {
      alert("No se pudo obtener la ubicaci贸n: " + error.message);
    });
  } else {
    alert("Geolocalizaci贸n no soportada en este navegador.");
  }
}

// Bot贸n en la web
document.getElementById("sendBtn").addEventListener("click", sendLocation);

// Captura tecla de bot贸n Bluetooth tipo selfie (Enter, ArrowUp, etc.)
document.addEventListener("keydown", function(event) {
  // Ajusta seg煤n la tecla que detectes en tu bot贸n
  if (event.key === "volumeup" ) {
    sendLocation();
  }
});

//Para detectar qu茅 tecla manda tu bot贸n, descomenta esto:
document.addEventListener("keydown", e => console.log("Tecla:", e.key, "C贸digo:", e.code));
</script>
</body>
</html>
